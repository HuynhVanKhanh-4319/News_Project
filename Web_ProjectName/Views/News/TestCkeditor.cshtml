@{
    ViewData["Title"] = "Test CKEditor";
}

<h2>Test CKEditor</h2>

<form method="post" id="formTestCkeditor">
    <div class="mb-3">
        <label for="editorDescription" class="form-label">Mô tả</label>
        <textarea id="editorDescription" name="description" class="form-control"></textarea>
    </div>

    <div class="text-end">
        <button type="submit" class="btn btn-primary">Gửi</button>
    </div>
</form>

@section Styles {
    <style>
        /* Chống tràn CKEditor */
        .cke {
            width: 100% !important;
        }

        .cke_notification_message, .cke_notification_warning {
            display: none !important;
        }
    </style>
}

@section Scripts {
    <!-- Đường dẫn ckeditor.js từ wwwroot -->
    <script src="~/lib/ckeditor/ckeditor.js"></script>

    <script>
        // Khởi tạo CKEditor cho textarea
        CKEDITOR.replace('editorDescription', {
            uiColor: '#14B8C4',
            toolbar: [
                ['Bold', 'Italic', '-', 'NumberedList', 'BulletedList', '-', 'Link', 'Unlink'],
                ['FontSize', 'TextColor', 'BGColor']
            ]
        });

        // Cập nhật dữ liệu CKEditor trước khi submit (nếu cần)
        document.getElementById('formTestCkeditor').addEventListener('submit', function () {
            for (var instance in CKEDITOR.instances) {
                CKEDITOR.instances[instance].updateElement();
            }
        });
    </script>
}
